{"version":3,"sources":["Drafted.jsx","LeaderBoard.jsx","App.js","index.js"],"names":["App","data","map","el","className","scope","name","score","API","useState","prospects","setProspects","leaderBoard","setLeaderBoard","setDisabled","drafted","setDrafted","fetchData","a","axios","result","console","log","Date","useRef","useEffect","setInterval","Drafted","LeaderBoard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uRAeeA,MAbf,YAAsB,IAARC,EAAO,EAAPA,KACZ,OACE,qCACE,yCACA,6BACGA,EAAKC,KAAI,SAACC,GAAD,OACR,6BAAcA,GAALA,YCYJH,MAlBf,YAAsB,IAARC,EAAO,EAAPA,KACZ,OACE,qCACE,8CACA,uBAAOG,UAAU,QAAjB,SACE,gCACGH,EAAKC,KAAI,SAACC,GAAD,OACR,+BACE,oBAAIE,MAAM,MAAV,SAAiBF,EAAGG,OACpB,6BAAI,+BAAOH,EAAGI,YAFPJ,EAAGG,iBCDlBE,G,OAAM,8BAkHGR,MA9Gf,WAAe,MAEqBS,mBAAS,IAF9B,mBAENC,EAFM,KAEKC,EAFL,OAGyBF,mBAAS,IAHlC,mBAGNG,EAHM,KAGOC,EAHP,OAImCJ,mBAAS,IAJ5C,gCAK+BA,mBAAS,KALxC,gCAMmBA,mBAAS,aAN5B,mBAMIK,GANJ,aAOiBL,mBAAS,IAP1B,mBAONM,EAPM,KAOGC,EAPH,cAaEC,IAbF,2EAab,4BAAAC,EAAA,sEACuBC,IAAMX,GAD7B,OACQY,EADR,OAEEC,QAAQC,IAAI,IAAIC,KAAQ,mBAAoBH,GAC5CT,EAAaS,EAAOnB,KAAKS,WACzBM,EAAWI,EAAOnB,KAAKc,SACvBF,EAAeO,EAAOnB,KAAKW,aAC3BE,GAAY,GANd,4CAba,sBAiEb,OAxDgBJ,EAAUR,KAAI,SAACC,GAAS,OAAOA,EAAGG,QAEtCkB,mBA6CZC,qBAAU,WACRR,IAEES,aAAY,WACVT,MACC,OAEJ,IAGD,sBAAKb,UAAU,gBAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,uEAAf,SACE,4DAGJ,sBAAKA,UAAU,MAAf,WACG,EA0BD,qBAAKA,UAAU,uEAAf,SACE,cAACuB,EAAD,CAAS1B,KAAMc,MAEjB,qBAAKX,UAAU,MAAf,SACE,cAACwB,EAAD,CAAa3B,KAAMW,aC7G7BiB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.ccc2c229.chunk.js","sourcesContent":["import React from 'react';\n\nfunction App({data}) {\n  return (\n    <>\n      <h3>Drafted</h3>\n      <ol>\n        {data.map((el) => (\n          <li key={el}>{el}</li>\n        ))}\n      </ol>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\n\nfunction App({data}) {\n  return (\n    <>\n      <h3>Leader Board</h3>\n      <table className=\"table\">\n        <tbody>\n          {data.map((el) => (\n            <tr key={el.name}>\n              <th scope=\"row\">{el.name}</th>\n              <td><code>{el.score}</code></td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default App;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Typeahead } from 'react-bootstrap-typeahead'; \nimport axios from 'axios';\nimport _get from 'lodash/get';\nimport Drafted from './Drafted'\nimport LeaderBoard from './LeaderBoard'\nimport './App.css';\n\nconst API = 'http://localhost:3001/api/'\n\nconst PRODUCTION = process.env.NODE_ENV === 'production'\n\nfunction App() {\n  // state\n  const [prospects, setProspects] = useState([])\n  const [leaderBoard, setLeaderBoard] = useState([])\n  const [selectedProspect, setSelectedProspect] = useState('')\n  const [selectedOption, setSelectedOption] = useState([])\n  const [disabled, setDisabled] = useState(\"disabled\")\n  const [drafted, setDrafted] = useState([])\n\n  const options = prospects.map((el) => { return el.name });\n  \n  const ref = useRef()\n\n  async function fetchData() {\n    const result = await axios(API);\n    console.log(new Date(), 'fetchData result', result);\n    setProspects(result.data.prospects);\n    setDrafted(result.data.drafted);\n    setLeaderBoard(result.data.leaderBoard);\n    setDisabled(false)\n  }\n\n  async function postData(selected) {\n    const { data } = await axios.post(API, selected.selected)\n\n    if (selected.selected.value === data.received.value) {\n      setDrafted(data.drafted)\n      setProspects(data.prospects)\n      setLeaderBoard(data.leaderBoard);\n      setSelectedProspect('')\n      setDisabled(false)\n      ref.current.focus()\n      ref.current.clear()\n    }\n  }\n\n  function handleChange(event) {\n    if (event) {\n      setSelectedOption(event)\n      const value = event[0]\n      setSelectedProspect({selected: {value}})\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault()\n\n    if (!_get(selectedProspect, 'selected.value')) {\n      return\n    }\n    \n    setDisabled(\"disabled\")\n    setSelectedOption([])\n    postData(selectedProspect)\n  }\n\n  useEffect(() => {\n    fetchData();\n    if (PRODUCTION) {\n      setInterval(() => {\n        fetchData()\n      }, 3000)\n    }\n  }, []);\n\n  return (\n    <div className=\"App container\">\n      <div className=\"row\">\n        <div className=\"col border border-bottom-1 border-top-0 border-right-0 border-left-0\">\n          <h1>NFL 2021 Fantasy Draft</h1>\n        </div>\n      </div>\n      <div className=\"row\">\n        {!PRODUCTION && (\n          <div className=\"col border border-right-1 border-bottom-0 border-top-0 border-left-0\">\n            <form onSubmit={handleSubmit}>\n              <fieldset disabled={disabled}>\n                <div className=\"form-group\">\n                  <h3>Prospects</h3>\n                  <Typeahead\n                    disabled={disabled}\n                    id=\"prospects\"\n                    labelKey=\"name\"\n                    onChange={handleChange}\n                    options={options}\n                    placeholder=\"Select\"\n                    selected={selectedOption}\n                    ref={ref}\n                  />\n                </div>\n                <button\n                  disabled={disabled || !selectedOption.length}\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                >Submit</button>\n              </fieldset>\n            </form>\n          </div>\n        )}\n        <div className=\"col border border-right-1 border-bottom-0 border-top-0 border-left-0\">\n          <Drafted data={drafted} />\n        </div>\n        <div className=\"col\">\n          <LeaderBoard data={leaderBoard} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}